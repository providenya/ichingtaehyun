<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>디지털 타로 리딩</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>🔮 디지털 타로 리딩</h1>
    </header>

    <main id="app">
        <!-- 화면 1: 덱 선택 -->
        <div id="deck-selection-screen" class="screen active">
            <h2>1. 덱을 선택하세요</h2>
            <div id="deck-list">
                <div class="deck-card" data-deck-id="universal_waite">
                    <h3>유니버설 웨이트</h3>
                    <p>샘플 덱입니다.</p>
                </div>
            </div>
        </div>

        <!-- 화면 2: 스프레드 선택 -->
        <div id="spread-selection-screen" class="screen">
            <button class="back-button button" data-target="deckSelection">← 덱 선택으로</button>
            <h2>2. 스프레드를 선택하세요</h2>
            <div id="spread-list">
                <button class="spread-button button" data-spread-type="one-card">원 카드 (1장)</button>
                <button class="spread-button button" data-spread-type="three-card">쓰리 카드 (3장)</button>
                <button class="spread-button button" data-spread-type="celtic-cross">켈틱 크로스 (10장)</button>
                <button class="spread-button button" data-spread-type="custom">✨ 나만의 스프레드 만들기</button>
            </div>
        </div>

        <!-- 화면 3: 커스텀 스프레드 생성기 -->
        <div id="custom-spread-creator-screen" class="screen">
            <button class="back-button button" data-target="spreadSelection">← 스프레드 선택으로</button>
            <h2>✨ 나만의 스프레드 만들기</h2>
            <div class="creator-controls">
                <label for="num-cards-input">1. 뽑을 카드 수:</label>
                <input type="number" id="num-cards-input" min="1" max="20" value="3">
                <button id="set-card-count-button" class="button">설정</button>
            </div>
            <p class="guide-text">숫자 카드를 드래그하여 원하는 대로 배치하세요.</p>
            <div id="layout-preview"></div>
            <button id="start-custom-spread-button" class="action-button">이 스프레드로 점보기</button>
        </div>

        <!-- 화면 4: 뽑기 방식 선택 -->
        <div id="draw-method-screen" class="screen">
            <button class="back-button button" data-target="spreadSelection">← 스프레드 선택으로</button>
            <h2>3. 뽑기 방식을 선택하세요</h2>
            <div id="draw-method-list">
                <button class="draw-method-button button" data-mode="manual">수동 뽑기</button>
                <button class="draw-method-button button" data-mode="auto">자동 뽑기</button>
                <button class="draw-method-button button" data-mode="continuous">연속 뽑기</button>
            </div>
        </div>
        
        <!-- 화면 5: 수동 카드 뽑기 -->
        <div id="manual-drawing-screen" class="screen">
            <div class="top-controls">
                <button class="back-button button" data-target="drawMethod">← 방식 선택으로</button>
                <button id="manual-reset-button" class="button">초기화</button>
                <button id="manual-confirm-button" class="action-button">결과 확인</button>
            </div>
            <h2 id="manual-draw-title"></h2>
            <div id="card-pool"></div>
        </div>
        
        <!-- 화면 6: 자동 뽑기 -->
        <div id="auto-drawing-screen" class="screen">
            <div class="top-controls">
                 <button class="back-button button" data-target="drawMethod">← 방식 선택으로</button>
                 <button id="auto-reset-button" class="button">초기화</button>
            </div>
            <h2 id="auto-draw-title"></h2>
            <div id="auto-draw-buttons"></div>
        </div>

        <!-- 화면 6-1: 연속 뽑기 (자동 뽑기와 분리됨) -->
        <div id="continuous-drawing-screen" class="screen">
            <div class="top-controls">
                 <button class="back-button button" data-target="drawMethod">← 방식 선택으로</button>
                 <button id="continuous-reset-button" class="button">다시 뽑기</button>
            </div>
            <h2 id="continuous-draw-title"></h2>
            <div id="continuous-draw-buttons"></div>
            <div id="continuous-result-area"></div>
        </div>

        <!-- 화면 7: 최종 결과 보기 (구조 분리됨) -->
        <div id="result-screen" class="screen">
            <button class="back-button button" data-target="spreadSelection">← 스프레드 선택으로</button>
            <h2>타로 리딩 결과</h2>
            
            <!-- 각 뷰는 한 번에 하나만 활성화됨 -->
            <div id="result-default-view" class="result-view"></div>
            <div id="result-celtic-view" class="result-view"></div>
            <div id="result-custom-view" class="result-view"></div>

            <button id="restart-button" class="action-button">처음으로 돌아가기</button>
        </div>
    </main>

    <footer>
        <p>A.I Tarot Master</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
